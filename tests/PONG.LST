Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 1
pong.ASM



      1					 ;entete
      2					 extrn lirent:proc, ecrent:proc
      3					 extrn ecrbool:proc
      4					 extrn ecrch:proc, ligsuiv:proc
      5	    0000			 .model	SMALL
      6					 .586
      7
      8	    0000			 .CODE
      9	    0000			 debut:
     10						 STARTUPCODE
1    11	    0000			 @Startup:
1    12	    0000  BA 0000s			 MOV	 DX,@data
1    13	    0003  8E DA				 MOV	 DS,DX
1    14	    0005  8C D3				 MOV	 BX,SS
1    15	    0007  2B DA				 SUB	 BX,DX
1    16	    0009  C1 E3	04			 SHL	 BX,4
1    17	    000C  8E D2				 MOV	 SS,DX
1    18	    000E  03 E3				 ADD	 SP,BX
     19
     20						 ;ouvrePrinc 18
     21	    0010  8B EC				 mov bp,sp
     22	    0012  83 EC	12			 sub sp,18
     23
     24						 ;iconst 1
     25	    0015  6A 01				 push word ptr 1
     26
     27						 ;istore -6
     28	    0017  58				 pop ax
     29	    0018  89 46	FA			 mov word ptr [bp-6],ax
     30
     31						 ;iconst 1
     32	    001B  6A 01				 push word ptr 1
     33
     34						 ;istore -8
     35	    001D  58				 pop ax
     36	    001E  89 46	F8			 mov word ptr [bp-8],ax
     37
     38						 ;lireEnt -18
     39	    0021  8D 56	EE			 lea dx,[bp-18]
     40	    0024  52				 push dx
     41	    0025  E8 0000e			 call lirent
     42
     43	    0028			 FAIRE1:
     44						 ;iconst -1
     45	    0028  6A FF				 push word ptr -1
     46
     47						 ;iffaux FAIT1
     48	    002A  58				 pop ax
     49	    002B  3D 0000			 cmp ax,0
     50	    002E  0F 84	0234			 je FAIT1
     51
     52						 ;iload	-2
     53	    0032  FF 76	FE			 push word ptr [bp-2]
     54
     55						 ;iconst 40
     56	    0035  6A 28				 push word ptr 40
     57
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 2
pong.ASM



     58						 ;iegal
     59	    0037  5B				 pop bx
     60	    0038  58				 pop ax
     61	    0039  3B C3				 cmp ax,bx
     62	    003B  75 04				 jne $+6
     63	    003D  6A FF				 push -1
     64	    003F  EB 02				 jmp $+4
     65	    0041  6A 00				 push 0
     66
     67						 ;iffaux SINON1
     68	    0043  58				 pop ax
     69	    0044  3D 0000			 cmp ax,0
     70	    0047  74 36	90 90			 je SINON1
     71
     72						 ;iload	-6
     73	    004B  FF 76	FA			 push word ptr [bp-6]
     74
     75						 ;iconst 0
     76	    004E  6A 00				 push word ptr 0
     77
     78						 ;isup
     79	    0050  5B				 pop bx
     80	    0051  58				 pop ax
     81	    0052  3B C3				 cmp ax,bx
     82	    0054  7E 04				 jle $+6
     83	    0056  6A FF				 push -1
     84	    0058  EB 02				 jmp $+4
     85	    005A  6A 00				 push 0
     86
     87						 ;iffaux SINON2
     88	    005C  58				 pop ax
     89	    005D  3D 0000			 cmp ax,0
     90	    0060  74 1A	90 90			 je SINON2
     91
     92						 ;iload	-6
     93	    0064  FF 76	FA			 push word ptr [bp-6]
     94
     95						 ;iconst 1
     96	    0067  6A 01				 push word ptr 1
     97
     98						 ;ineg
     99	    0069  5B				 pop bx
    100	    006A  B8 0000			 mov ax,0
    101	    006D  2B C3				 sub ax,bx
    102	    006F  50				 push ax
    103
    104						 ;imul
    105	    0070  5B				 pop bx
    106	    0071  58				 pop ax
    107	    0072  F7 EB				 imul bx
    108	    0074  50				 push ax
    109
    110						 ;istore -6
    111	    0075  58				 pop ax
    112	    0076  89 46	FA			 mov word ptr [bp-6],ax
    113
    114						 ;goto FSI2
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 3
pong.ASM



    115	    0079  EB 01	90			 jmp FSI2
    116	    007C			 SINON2:
    117	    007C			 FSI2:
    118						 ;goto FSI1
    119	    007C  EB 01	90			 jmp FSI1
    120	    007F			 SINON1:
    121	    007F			 FSI1:
    122						 ;iload	-2
    123	    007F  FF 76	FE			 push word ptr [bp-2]
    124
    125						 ;iconst 0
    126	    0082  6A 00				 push word ptr 0
    127
    128						 ;iegal
    129	    0084  5B				 pop bx
    130	    0085  58				 pop ax
    131	    0086  3B C3				 cmp ax,bx
    132	    0088  75 04				 jne $+6
    133	    008A  6A FF				 push -1
    134	    008C  EB 02				 jmp $+4
    135	    008E  6A 00				 push 0
    136
    137						 ;iffaux SINON3
    138	    0090  58				 pop ax
    139	    0091  3D 0000			 cmp ax,0
    140	    0094  74 36	90 90			 je SINON3
    141
    142						 ;iload	-6
    143	    0098  FF 76	FA			 push word ptr [bp-6]
    144
    145						 ;iconst 0
    146	    009B  6A 00				 push word ptr 0
    147
    148						 ;iinf
    149	    009D  5B				 pop bx
    150	    009E  58				 pop ax
    151	    009F  3B C3				 cmp ax,bx
    152	    00A1  7D 04				 jge $+6
    153	    00A3  6A FF				 push -1
    154	    00A5  EB 02				 jmp $+4
    155	    00A7  6A 00				 push 0
    156
    157						 ;iffaux SINON4
    158	    00A9  58				 pop ax
    159	    00AA  3D 0000			 cmp ax,0
    160	    00AD  74 1A	90 90			 je SINON4
    161
    162						 ;iload	-6
    163	    00B1  FF 76	FA			 push word ptr [bp-6]
    164
    165						 ;iconst 1
    166	    00B4  6A 01				 push word ptr 1
    167
    168						 ;ineg
    169	    00B6  5B				 pop bx
    170	    00B7  B8 0000			 mov ax,0
    171	    00BA  2B C3				 sub ax,bx
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 4
pong.ASM



    172	    00BC  50				 push ax
    173
    174						 ;imul
    175	    00BD  5B				 pop bx
    176	    00BE  58				 pop ax
    177	    00BF  F7 EB				 imul bx
    178	    00C1  50				 push ax
    179
    180						 ;istore -6
    181	    00C2  58				 pop ax
    182	    00C3  89 46	FA			 mov word ptr [bp-6],ax
    183
    184						 ;goto FSI4
    185	    00C6  EB 01	90			 jmp FSI4
    186	    00C9			 SINON4:
    187	    00C9			 FSI4:
    188						 ;goto FSI3
    189	    00C9  EB 01	90			 jmp FSI3
    190	    00CC			 SINON3:
    191	    00CC			 FSI3:
    192						 ;iload	-4
    193	    00CC  FF 76	FC			 push word ptr [bp-4]
    194
    195						 ;iconst 14
    196	    00CF  6A 0E				 push word ptr 14
    197
    198						 ;iegal
    199	    00D1  5B				 pop bx
    200	    00D2  58				 pop ax
    201	    00D3  3B C3				 cmp ax,bx
    202	    00D5  75 04				 jne $+6
    203	    00D7  6A FF				 push -1
    204	    00D9  EB 02				 jmp $+4
    205	    00DB  6A 00				 push 0
    206
    207						 ;iffaux SINON5
    208	    00DD  58				 pop ax
    209	    00DE  3D 0000			 cmp ax,0
    210	    00E1  74 36	90 90			 je SINON5
    211
    212						 ;iload	-8
    213	    00E5  FF 76	F8			 push word ptr [bp-8]
    214
    215						 ;iconst 0
    216	    00E8  6A 00				 push word ptr 0
    217
    218						 ;isup
    219	    00EA  5B				 pop bx
    220	    00EB  58				 pop ax
    221	    00EC  3B C3				 cmp ax,bx
    222	    00EE  7E 04				 jle $+6
    223	    00F0  6A FF				 push -1
    224	    00F2  EB 02				 jmp $+4
    225	    00F4  6A 00				 push 0
    226
    227						 ;iffaux SINON6
    228	    00F6  58				 pop ax
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 5
pong.ASM



    229	    00F7  3D 0000			 cmp ax,0
    230	    00FA  74 1A	90 90			 je SINON6
    231
    232						 ;iload	-8
    233	    00FE  FF 76	F8			 push word ptr [bp-8]
    234
    235						 ;iconst 1
    236	    0101  6A 01				 push word ptr 1
    237
    238						 ;ineg
    239	    0103  5B				 pop bx
    240	    0104  B8 0000			 mov ax,0
    241	    0107  2B C3				 sub ax,bx
    242	    0109  50				 push ax
    243
    244						 ;imul
    245	    010A  5B				 pop bx
    246	    010B  58				 pop ax
    247	    010C  F7 EB				 imul bx
    248	    010E  50				 push ax
    249
    250						 ;istore -8
    251	    010F  58				 pop ax
    252	    0110  89 46	F8			 mov word ptr [bp-8],ax
    253
    254						 ;goto FSI6
    255	    0113  EB 01	90			 jmp FSI6
    256	    0116			 SINON6:
    257	    0116			 FSI6:
    258						 ;goto FSI5
    259	    0116  EB 01	90			 jmp FSI5
    260	    0119			 SINON5:
    261	    0119			 FSI5:
    262						 ;iload	-4
    263	    0119  FF 76	FC			 push word ptr [bp-4]
    264
    265						 ;iconst 0
    266	    011C  6A 00				 push word ptr 0
    267
    268						 ;iegal
    269	    011E  5B				 pop bx
    270	    011F  58				 pop ax
    271	    0120  3B C3				 cmp ax,bx
    272	    0122  75 04				 jne $+6
    273	    0124  6A FF				 push -1
    274	    0126  EB 02				 jmp $+4
    275	    0128  6A 00				 push 0
    276
    277						 ;iffaux SINON7
    278	    012A  58				 pop ax
    279	    012B  3D 0000			 cmp ax,0
    280	    012E  74 36	90 90			 je SINON7
    281
    282						 ;iload	-8
    283	    0132  FF 76	F8			 push word ptr [bp-8]
    284
    285						 ;iconst 0
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 6
pong.ASM



    286	    0135  6A 00				 push word ptr 0
    287
    288						 ;iinf
    289	    0137  5B				 pop bx
    290	    0138  58				 pop ax
    291	    0139  3B C3				 cmp ax,bx
    292	    013B  7D 04				 jge $+6
    293	    013D  6A FF				 push -1
    294	    013F  EB 02				 jmp $+4
    295	    0141  6A 00				 push 0
    296
    297						 ;iffaux SINON8
    298	    0143  58				 pop ax
    299	    0144  3D 0000			 cmp ax,0
    300	    0147  74 1A	90 90			 je SINON8
    301
    302						 ;iload	-8
    303	    014B  FF 76	F8			 push word ptr [bp-8]
    304
    305						 ;iconst 1
    306	    014E  6A 01				 push word ptr 1
    307
    308						 ;ineg
    309	    0150  5B				 pop bx
    310	    0151  B8 0000			 mov ax,0
    311	    0154  2B C3				 sub ax,bx
    312	    0156  50				 push ax
    313
    314						 ;imul
    315	    0157  5B				 pop bx
    316	    0158  58				 pop ax
    317	    0159  F7 EB				 imul bx
    318	    015B  50				 push ax
    319
    320						 ;istore -8
    321	    015C  58				 pop ax
    322	    015D  89 46	F8			 mov word ptr [bp-8],ax
    323
    324						 ;goto FSI8
    325	    0160  EB 01	90			 jmp FSI8
    326	    0163			 SINON8:
    327	    0163			 FSI8:
    328						 ;goto FSI7
    329	    0163  EB 01	90			 jmp FSI7
    330	    0166			 SINON7:
    331	    0166			 FSI7:
    332						 ;iload	-2
    333	    0166  FF 76	FE			 push word ptr [bp-2]
    334
    335						 ;iload	-6
    336	    0169  FF 76	FA			 push word ptr [bp-6]
    337
    338						 ;iadd
    339	    016C  5B				 pop bx
    340	    016D  58				 pop ax
    341	    016E  03 C3				 add ax,bx
    342	    0170  50				 push ax
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 7
pong.ASM



    343
    344						 ;istore -2
    345	    0171  58				 pop ax
    346	    0172  89 46	FE			 mov word ptr [bp-2],ax
    347
    348						 ;iload	-4
    349	    0175  FF 76	FC			 push word ptr [bp-4]
    350
    351						 ;iload	-8
    352	    0178  FF 76	F8			 push word ptr [bp-8]
    353
    354						 ;iadd
    355	    017B  5B				 pop bx
    356	    017C  58				 pop ax
    357	    017D  03 C3				 add ax,bx
    358	    017F  50				 push ax
    359
    360						 ;istore -4
    361	    0180  58				 pop ax
    362	    0181  89 46	FC			 mov word ptr [bp-4],ax
    363
    364						 ;iload	-4
    365	    0184  FF 76	FC			 push word ptr [bp-4]
    366
    367						 ;istore -10
    368	    0187  58				 pop ax
    369	    0188  89 46	F6			 mov word ptr [bp-10],ax
    370
    371	    018B			 FAIRE2:
    372						 ;iload	-10
    373	    018B  FF 76	F6			 push word ptr [bp-10]
    374
    375						 ;iconst 0
    376	    018E  6A 00				 push word ptr 0
    377
    378						 ;isup
    379	    0190  5B				 pop bx
    380	    0191  58				 pop ax
    381	    0192  3B C3				 cmp ax,bx
    382	    0194  7E 04				 jle $+6
    383	    0196  6A FF				 push -1
    384	    0198  EB 02				 jmp $+4
    385	    019A  6A 00				 push 0
    386
    387						 ;iffaux FAIT2
    388	    019C  58				 pop ax
    389	    019D  3D 0000			 cmp ax,0
    390	    01A0  74 15	90 90			 je FAIT2
    391
    392						 ;aLaLigne
    393	    01A4  E8 0000e			 call ligsuiv
    394
    395						 ;iload	-10
    396	    01A7  FF 76	F6			 push word ptr [bp-10]
    397
    398						 ;iconst 1
    399	    01AA  6A 01				 push word ptr 1
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 8
pong.ASM



    400
    401						 ;isub
    402	    01AC  5B				 pop bx
    403	    01AD  58				 pop ax
    404	    01AE  2B C3				 sub ax,bx
    405	    01B0  50				 push ax
    406
    407						 ;istore -10
    408	    01B1  58				 pop ax
    409	    01B2  89 46	F6			 mov word ptr [bp-10],ax
    410
    411						 ;goto FAIRE2
    412	    01B5  EB D4				 jmp FAIRE2
    413	    01B7			 FAIT2:
    414						 ;iload	-2
    415	    01B7  FF 76	FE			 push word ptr [bp-2]
    416
    417						 ;iconst 2
    418	    01BA  6A 02				 push word ptr 2
    419
    420						 ;isub
    421	    01BC  5B				 pop bx
    422	    01BD  58				 pop ax
    423	    01BE  2B C3				 sub ax,bx
    424	    01C0  50				 push ax
    425
    426						 ;istore -10
    427	    01C1  58				 pop ax
    428	    01C2  89 46	F6			 mov word ptr [bp-10],ax
    429
    430						 ;ecrireChaine "|"
    431	    01C5			 .DATA
    432	    0000  7C 24			 mess0 DB "|$"
    433	    0002			 .CODE
    434	    01C5  BA 0000r			 lea dx,mess0
    435	    01C8  52				 push dx
    436	    01C9  E8 0000e			 call ecrch
    437
    438	    01CC			 FAIRE3:
    439						 ;iload	-10
    440	    01CC  FF 76	F6			 push word ptr [bp-10]
    441
    442						 ;iconst 0
    443	    01CF  6A 00				 push word ptr 0
    444
    445						 ;isup
    446	    01D1  5B				 pop bx
    447	    01D2  58				 pop ax
    448	    01D3  3B C3				 cmp ax,bx
    449	    01D5  7E 04				 jle $+6
    450	    01D7  6A FF				 push -1
    451	    01D9  EB 02				 jmp $+4
    452	    01DB  6A 00				 push 0
    453
    454						 ;iffaux FAIT3
    455	    01DD  58				 pop ax
    456	    01DE  3D 0000			 cmp ax,0
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 9
pong.ASM



    457	    01E1  74 19	90 90			 je FAIT3
    458
    459						 ;ecrireChaine " "
    460	    01E5			 .DATA
    461	    0002  20 24			 mess1 DB " $"
    462	    0004			 .CODE
    463	    01E5  BA 0002r			 lea dx,mess1
    464	    01E8  52				 push dx
    465	    01E9  E8 0000e			 call ecrch
    466
    467						 ;iload	-10
    468	    01EC  FF 76	F6			 push word ptr [bp-10]
    469
    470						 ;iconst 1
    471	    01EF  6A 01				 push word ptr 1
    472
    473						 ;isub
    474	    01F1  5B				 pop bx
    475	    01F2  58				 pop ax
    476	    01F3  2B C3				 sub ax,bx
    477	    01F5  50				 push ax
    478
    479						 ;istore -10
    480	    01F6  58				 pop ax
    481	    01F7  89 46	F6			 mov word ptr [bp-10],ax
    482
    483						 ;goto FAIRE3
    484	    01FA  EB D0				 jmp FAIRE3
    485	    01FC			 FAIT3:
    486						 ;ecrireChaine "o"
    487	    01FC			 .DATA
    488	    0004  6F 24			 mess2 DB "o$"
    489	    0006			 .CODE
    490	    01FC  BA 0004r			 lea dx,mess2
    491	    01FF  52				 push dx
    492	    0200  E8 0000e			 call ecrch
    493
    494						 ;iload	-18
    495	    0203  FF 76	EE			 push word ptr [bp-18]
    496
    497						 ;istore -10
    498	    0206  58				 pop ax
    499	    0207  89 46	F6			 mov word ptr [bp-10],ax
    500
    501	    020A			 FAIRE4:
    502						 ;iload	-10
    503	    020A  FF 76	F6			 push word ptr [bp-10]
    504
    505						 ;iconst 0
    506	    020D  6A 00				 push word ptr 0
    507
    508						 ;isup
    509	    020F  5B				 pop bx
    510	    0210  58				 pop ax
    511	    0211  3B C3				 cmp ax,bx
    512	    0213  7E 04				 jle $+6
    513	    0215  6A FF				 push -1
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 10
pong.ASM



    514	    0217  EB 02				 jmp $+4
    515	    0219  6A 00				 push 0
    516
    517						 ;iffaux FAIT4
    518	    021B  58				 pop ax
    519	    021C  3D 0000			 cmp ax,0
    520	    021F  74 42	90 90			 je FAIT4
    521
    522						 ;iload	-18
    523	    0223  FF 76	EE			 push word ptr [bp-18]
    524
    525						 ;istore -12
    526	    0226  58				 pop ax
    527	    0227  89 46	F4			 mov word ptr [bp-12],ax
    528
    529	    022A			 FAIRE5:
    530						 ;iload	-12
    531	    022A  FF 76	F4			 push word ptr [bp-12]
    532
    533						 ;iconst 0
    534	    022D  6A 00				 push word ptr 0
    535
    536						 ;isup
    537	    022F  5B				 pop bx
    538	    0230  58				 pop ax
    539	    0231  3B C3				 cmp ax,bx
    540	    0233  7E 04				 jle $+6
    541	    0235  6A FF				 push -1
    542	    0237  EB 02				 jmp $+4
    543	    0239  6A 00				 push 0
    544
    545						 ;iffaux FAIT5
    546	    023B  58				 pop ax
    547	    023C  3D 0000			 cmp ax,0
    548	    023F  74 12	90 90			 je FAIT5
    549
    550						 ;iload	-12
    551	    0243  FF 76	F4			 push word ptr [bp-12]
    552
    553						 ;iconst 1
    554	    0246  6A 01				 push word ptr 1
    555
    556						 ;isub
    557	    0248  5B				 pop bx
    558	    0249  58				 pop ax
    559	    024A  2B C3				 sub ax,bx
    560	    024C  50				 push ax
    561
    562						 ;istore -12
    563	    024D  58				 pop ax
    564	    024E  89 46	F4			 mov word ptr [bp-12],ax
    565
    566						 ;goto FAIRE5
    567	    0251  EB D7				 jmp FAIRE5
    568	    0253			 FAIT5:
    569						 ;iload	-10
    570	    0253  FF 76	F6			 push word ptr [bp-10]
Turbo Assembler	 Version 4.1	    03/16/15 15:29:46	    Page 11
pong.ASM



    571
    572						 ;iconst 1
    573	    0256  6A 01				 push word ptr 1
    574
    575						 ;isub
    576	    0258  5B				 pop bx
    577	    0259  58				 pop ax
    578	    025A  2B C3				 sub ax,bx
    579	    025C  50				 push ax
    580
    581						 ;istore -10
    582	    025D  58				 pop ax
    583	    025E  89 46	F6			 mov word ptr [bp-10],ax
    584
    585						 ;goto FAIRE4
    586	    0261  EB A7				 jmp FAIRE4
    587	    0263			 FAIT4:
    588						 ;goto FAIRE1
    589	    0263  E9 FDC2			 jmp FAIRE1
    590	    0266			 FAIT1:
    591						 ;queue
    592	    0266  90				 nop
    593						 EXITCODE
1   594	    0267  B4 4C				 MOV	 AH,4Ch
1   595	    0269  CD 21				 INT	 21h
    596						 end debut
